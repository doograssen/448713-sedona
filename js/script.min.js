function setInputDate(e){var t=new Date,o=t.getDate();return(e?o+1:o)+" "+MONTH[t.getMonth()]+" "+t.getFullYear()}function initMap(){var e={lat:34.87075,lng:-111.762161},t=new google.maps.Map(googleMap,{zoom:10,center:e});new google.maps.Marker({position:e,map:t,title:"Welcome in Sedona!"})}var ESC_CODE=27,MONTH=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],showPopupBtn=document.querySelector(".hotel-search__button"),popup=document.querySelector(".form-modal"),mapLink=document.querySelector(".hotel-search__map-link"),mapContainer=document.querySelector(".hotel-search__interactive"),googleMap=mapContainer.querySelector(".hotel-search__map"),closeBtn=mapContainer.querySelector(".hotel-search__close-map"),overlay=document.querySelector(".page__container"),input=popup.querySelectorAll(".form-modal__input"),checkIn=popup.querySelector("#check-in"),checkOut=popup.querySelector("[name=check-out]"),adult=popup.querySelector("[name=adult]"),button=popup.querySelectorAll(".form-modal__button");showPopupBtn.addEventListener("click",function(e){popup.classList.contains("form-modal--hide")?(popup.classList.remove("form-modal--hide"),popup.classList.add("form-modal--show")):popup.classList.contains("form-modal--show")&&(popup.classList.remove("form-modal--show"),popup.classList.add("form-modal--hide"))}),popup.addEventListener("submit",function(e){if(!checkIn.value||!checkOut.value||!adult.value){e.preventDefault();for(var t=0;t<input.length-1;t++)input[t].value||(input[t].classList.remove("form-modal__input--error"),input[t].offsetWidth=popup.offsetWidth,input[t].classList.add("form-modal__input--error"))}}),window.onload=function(){popup.classList.add("form-modal--hide"),checkIn.placeholder=setInputDate(!1),checkOut.placeholder=setInputDate(!0);for(var e,t,o=0;o<button.length;o++)button[o].classList.contains("form-modal__button--calendar")||button[o].addEventListener("click",function(){this.classList.contains("form-modal__button--minus")?(e=this.nextElementSibling.value,t=this.nextElementSibling,t.value="0"!==e&&""!==e?+e-1:e):this.classList.contains("form-modal__button--plus")&&(e=this.previousElementSibling.value,t=this.previousElementSibling,t.value=10>e||""!==e?+e+1:e)})},window.addEventListener("keydown",function(e){e.keyCode===ESC_CODE&&popup.classList.contains("form-modal--show")&&(popup.classList.remove("form-modal--show"),popup.classList.add("form-modal--hide"))}),mapLink.addEventListener("click",function(e){e.preventDefault(),mapContainer.classList.contains("hotel-search__interactive--show")||(mapContainer.classList.add("hotel-search__interactive--show"),overlay.classList.add("page__container--overlay"),initMap())}),closeBtn.addEventListener("click",function(){mapContainer.classList.remove("hotel-search__interactive--show"),overlay.classList.remove("page__container--overlay")});
